{"filter":false,"title":"test.c","tooltip":"/test.c","undoManager":{"mark":60,"position":60,"stack":[[{"start":{"row":0,"column":0},"end":{"row":281,"column":0},"action":"insert","lines":["#include <stdio.h>","#include <stdlib.h>","#include <string.h>","#define CHARS_SIZE 26","#define LINE_SIZE 256","#define FALSE 0","#define TRUE 1","typedef char* String;","//#include \"globalvars.h\"","typedef int int_64;","typedef int_64 boolean;","/**our global String array (array of pointers to chars)"," */","String* WORDS;","int iterator=0;","struct Node","{","    size_t counter;","    boolean is_word;","    struct Node* children[CHARS_SIZE];","};","/**"," * int out trie node we have 2 fields"," * 1) is_word determines if is word or not"," * 2) array of pointers to other nodes such that arr[index]"," * means node that resemples index in alphabit of 26 letters"," */","struct Trie","{","    struct Node* root;","","};","typedef struct Node Node;","typedef struct Trie Trie;","","size_t char_to_alphabit(char x){","    size_t index= (size_t)(x%32);","    return index-1;","}","////////////////////////////////////////////////","//                                          ////","//          CONSTRUCTORS                    ////","////////////////////////////////////////////////","Node* newnode(Node* x){","    x=(Node*)malloc(sizeof(Node));","    (x)->counter=0;","    return x;","}","","void newnode1(Node** x){","    *x=(Node*)malloc(sizeof(Node));","    (*x)->is_word=FALSE;","    (*x)->counter=0;","    return;","}","void newnode2(Node** x){","    x=(Node**)malloc(sizeof(Node*));","    (*x)->is_word=FALSE;","    (*x)->counter=0;","    return;","}","void newtrie(Node** shoresh,Trie** tree){","    *tree=(Trie*)malloc(sizeof(Trie));","    (*tree)->root=*shoresh;","    return;","}","///////////////////////////////////////////////////","//METHOD ZONE:","void insert_word(String word,Node* root){","    Node* n= root;","    size_t i=0;","    size_t index;","    while(word[i]){","        index=char_to_alphabit(word[i]); //converting","        if(i==(strlen(word)-1)){","            //indicates end of word","            if(n->children[index]==NULL){","                (n)->children[index]=newnode(n);","            }","            (n)->children[index]->is_word=TRUE;","            (n)->children[index]->counter++;","        }","        if(!((n)->children[index])){","            (n)->children[index]= newnode(n); //alloc a place for a new one","        }","        //in all ways we traverse in the node we made","        n=(n)->children[index];","        ++i;","    }","}","","boolean search(Node** root,String word){","    size_t i=0;","    size_t index;","    Node* n= *root;","    while(word[i])///means while word[i]!='\\0';","    {","        index=char_to_alphabit(word[i]);","        if((n)==NULL){","            printf(\"the Trie is empty !\\n\");","            return FALSE;","        }","        if((n)->children[index]==NULL){","            printf(\"word doesn't exist in the Trie\\n\");","            return FALSE;","        }","        //else at least the first letter exists !","        if(i==(strlen(word)-1)&&((n)->children[index]->is_word==TRUE)){","            //indicates end of word","            return TRUE;","        }","        n=(n)->children[index];","        ++i;","","    }","","}","size_t search_count_rec(Node* root,String str, size_t i)","{","    size_t index= char_to_alphabit(str[i]);","    if((root)->children[index]==NULL){","        //printf(\"word doesn't exist in Trie\");","        return 0;","    }","    if((i==strlen(str)-1)&&((root)->children[index]->is_word==TRUE))","    {","        return (root)->children[index]->counter;","    }","    return search_count_rec(((root)->children[index]),str,++i);","}","void search_count(String str,Node* root)","{","    size_t i=0;","    size_t counter;","    if(root==NULL){","        printf(\"Trie is empty :(\");","        return;","    }","    //else we traverse recursively till we reach last char of the desired word && the node->children[index]->isword== TRUE","    //then we return the counter field of that node :)","    counter=search_count_rec(root,str,i);","    printf(\"%s  %ld\",str,counter);","}","void get_words(Node** root){","// i'm trying to do (smart) allocation , firstly i'm going to give a huge calloc for the String so it can accept","//any kind of word of any kind of length (26*sizeof(char)) would be alright , then i'm going to calculate the size","// of the string i got and realloc the previous calloc , .... you know what ? forget it  ,that allocation would fall sometimes","//in case we get 1 char as a String ,then we get i>1 (such that i is length of Strings to come) them i'm in danger since","","    String word;","    word=(char*)calloc(26,sizeof(char));","    printf(\"please enter the desired word to search for : \");","    gets(word);","    search_count(word,root);","","}","void erase(char** word,size_t length){","    size_t i;","    char* actual=*word;","    for (i = 0; i<length; i++) {","        actual[i]='\\0';","    }","}","boolean is_in( int length,String word)","{","    int i,j;","    if(WORDS==0) return FALSE;","    for (i = 0; i<length; i++) {","        if(comparator(&word,&WORDS[i])==0){","            return TRUE;","        }","    }","    return FALSE;","}","int count_chars(String word){","    size_t i;","    int counter=0;","    for (i = 0; word[i]; ++i) {","        counter++;","    }","    return counter;","}","/**"," * in get_line we get the each line from the file_name.txt ,"," * we gather each word in the line and send it to global String arr[]"," * then we use qsort() in order to sort the strings in arr lexicographically"," * after it's sorted we print arr[i] && it's occurrence #"," */","boolean get_line(Node* root) {","    char line[LINE_SIZE];//for the whole line","    boolean flag = TRUE;","    size_t i, j;","    size_t iterate;","    static size_t z = 0;","    static int it = 0;","    j = 0;","    char *word = (char *) calloc(26, sizeof(char));","    flag = gets(line); //get a line from the text file","    if (flag) {","        for (i = 0; i <=count_chars(line); i++) {","            if ((line[i] == '\\n') || (line[i] == '\\t') || (line[i] == ',') || (line[i] == ' ') || (line[i] == '.')) {","                word[j]='\\0';","                j = 0;","                //TODO: check duplicates we are not interested in adding similar words","                if (!(is_in(z, word))) {","                    (WORDS) = (char **) realloc(WORDS, (z + 1) * sizeof(String));","                    WORDS[z] = (char *) calloc(strlen(word), sizeof(char));","                    strcpy(WORDS[z], word);","                    z++;","                }","                insert_word(word, root);","                printf(\"\\n\");","                memset(word, 0, strlen(word));","                //  z++;","                if ((line[i] == ',') && (line[i + 1] == ' ')) {","                    ++i;","                }","            } else {","                word[j++] = line[i];","            }//collecting 1 word at once to go and search for it in the Trie :)","        }","        iterator=z;","    }","    else {","        iterator = z;","        return flag;","    }","}","void free_Trie(Node** n){","    if((*n)==NULL){","        return;","    }","    for (int i = 0; i <CHARS_SIZE; i++) {","        free_Trie(&((*n)->children[i]));","        free(*n);","    }","","}","void free_all(Node* curs)","{","    int i;","    if(!curs) return;","","","    for (i = 0; i < 26; i++)","        free_all(curs->children[i]);","","","","    free(curs);","}","int comparator (const void** str1, const void** str2){","    const String str11=*(const String**) str1;","    const String str22=*(const String**) str2;","    int ans=strcmp(str11,str22);","    if(ans>0){","        return 1;","    }","    if(ans<0){","        return -1;","    }","    return 0;","}","void print_words(Node* root,size_t size1){","    size_t i;","    size_t size= size1;","    qsort(WORDS,size,sizeof(WORDS[0]),comparator);","    for (i=0; i<size; i++) {","        search_count(WORDS[i],root);","        printf(\"\\n\");","    }","}","void print_words_reverse(Node* root,size_t size1){","    int i;","    size_t size= size1;","    qsort(WORDS,size,sizeof(WORDS[0]),comparator);","    for (i=size-1;i>=0; i--) {","        search_count(WORDS[i],root);","        printf(\"\\n\");","    }","}",""],"id":1}],[{"start":{"row":188,"column":30},"end":{"row":189,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":189,"column":0},"end":{"row":189,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":189,"column":4},"end":{"row":189,"column":13},"action":"insert","lines":["FILE *fp;"],"id":3}],[{"start":{"row":189,"column":13},"end":{"row":190,"column":0},"action":"insert","lines":["",""],"id":4},{"start":{"row":190,"column":0},"end":{"row":190,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":190,"column":4},"end":{"row":201,"column":3},"action":"insert","lines":["/* opening file for reading */","   fp = fopen(\"file.txt\" , \"r\");","   if(fp == NULL) {","      perror(\"Error opening file\");","      return(-1);","   }","   if( fgets (str, 60, fp)!=NULL ) {","      /* writing content to stdout */","      puts(str);","   }","   fclose(fp);","   "],"id":5}],[{"start":{"row":191,"column":15},"end":{"row":191,"column":19},"action":"remove","lines":["file"],"id":6},{"start":{"row":191,"column":15},"end":{"row":191,"column":16},"action":"insert","lines":["i"]},{"start":{"row":191,"column":16},"end":{"row":191,"column":17},"action":"insert","lines":["m"]}],[{"start":{"row":191,"column":16},"end":{"row":191,"column":17},"action":"remove","lines":["m"],"id":7}],[{"start":{"row":191,"column":16},"end":{"row":191,"column":17},"action":"insert","lines":["n"],"id":8},{"start":{"row":191,"column":17},"end":{"row":191,"column":18},"action":"insert","lines":["p"]},{"start":{"row":191,"column":18},"end":{"row":191,"column":19},"action":"insert","lines":["u"]},{"start":{"row":191,"column":19},"end":{"row":191,"column":20},"action":"insert","lines":["t"]}],[{"start":{"row":188,"column":30},"end":{"row":189,"column":0},"action":"insert","lines":["",""],"id":9},{"start":{"row":189,"column":0},"end":{"row":189,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":189,"column":4},"end":{"row":189,"column":26},"action":"insert","lines":[" char line[LINE_SIZE];"],"id":10}],[{"start":{"row":189,"column":4},"end":{"row":189,"column":5},"action":"remove","lines":[" "],"id":11}],[{"start":{"row":203,"column":4},"end":{"row":203,"column":5},"action":"insert","lines":["/"],"id":12},{"start":{"row":203,"column":5},"end":{"row":203,"column":6},"action":"insert","lines":["/"]}],[{"start":{"row":189,"column":25},"end":{"row":190,"column":0},"action":"insert","lines":["",""],"id":13},{"start":{"row":190,"column":0},"end":{"row":190,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":190,"column":0},"end":{"row":190,"column":4},"action":"remove","lines":["    "],"id":14},{"start":{"row":189,"column":25},"end":{"row":190,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":189,"column":25},"end":{"row":189,"column":45},"action":"insert","lines":["//for the whole line"],"id":15}],[{"start":{"row":189,"column":45},"end":{"row":190,"column":0},"action":"insert","lines":["",""],"id":16},{"start":{"row":190,"column":0},"end":{"row":190,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":190,"column":0},"end":{"row":190,"column":4},"action":"remove","lines":["    "],"id":17},{"start":{"row":189,"column":45},"end":{"row":190,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":197,"column":14},"end":{"row":197,"column":17},"action":"remove","lines":["str"],"id":18},{"start":{"row":197,"column":14},"end":{"row":197,"column":15},"action":"insert","lines":["l"]},{"start":{"row":197,"column":15},"end":{"row":197,"column":16},"action":"insert","lines":["i"]},{"start":{"row":197,"column":16},"end":{"row":197,"column":17},"action":"insert","lines":["n"]},{"start":{"row":197,"column":17},"end":{"row":197,"column":18},"action":"insert","lines":["e"]}],[{"start":{"row":197,"column":20},"end":{"row":197,"column":22},"action":"remove","lines":["60"],"id":19},{"start":{"row":197,"column":20},"end":{"row":197,"column":21},"action":"insert","lines":["L"]},{"start":{"row":197,"column":21},"end":{"row":197,"column":22},"action":"insert","lines":["I"]},{"start":{"row":197,"column":22},"end":{"row":197,"column":23},"action":"insert","lines":["N"]}],[{"start":{"row":197,"column":20},"end":{"row":197,"column":23},"action":"remove","lines":["LIN"],"id":20},{"start":{"row":197,"column":20},"end":{"row":197,"column":29},"action":"insert","lines":["LINE_SIZE"]}],[{"start":{"row":199,"column":5},"end":{"row":199,"column":6},"action":"insert","lines":["/"],"id":21},{"start":{"row":199,"column":6},"end":{"row":199,"column":7},"action":"insert","lines":["/"]}],[{"start":{"row":201,"column":2},"end":{"row":201,"column":14},"action":"remove","lines":[" fclose(fp);"],"id":22}],[{"start":{"row":200,"column":3},"end":{"row":200,"column":4},"action":"remove","lines":["}"],"id":23}],[{"start":{"row":198,"column":4},"end":{"row":199,"column":18},"action":"remove","lines":["  /* writing content to stdout */","     // puts(str);"],"id":24}],[{"start":{"row":210,"column":4},"end":{"row":210,"column":5},"action":"insert","lines":["/"],"id":25},{"start":{"row":210,"column":5},"end":{"row":210,"column":6},"action":"insert","lines":["/"]}],[{"start":{"row":211,"column":4},"end":{"row":211,"column":5},"action":"insert","lines":["/"],"id":26},{"start":{"row":211,"column":5},"end":{"row":211,"column":6},"action":"insert","lines":["/"]}],[{"start":{"row":235,"column":4},"end":{"row":235,"column":5},"action":"insert","lines":["/"],"id":27},{"start":{"row":235,"column":5},"end":{"row":235,"column":6},"action":"insert","lines":["/"]}],[{"start":{"row":235,"column":5},"end":{"row":235,"column":6},"action":"remove","lines":["/"],"id":28},{"start":{"row":235,"column":4},"end":{"row":235,"column":5},"action":"remove","lines":["/"]}],[{"start":{"row":196,"column":4},"end":{"row":197,"column":0},"action":"insert","lines":["",""],"id":29},{"start":{"row":197,"column":0},"end":{"row":197,"column":3},"action":"insert","lines":["   "]}],[{"start":{"row":197,"column":2},"end":{"row":197,"column":3},"action":"remove","lines":[" "],"id":30},{"start":{"row":197,"column":1},"end":{"row":197,"column":2},"action":"remove","lines":[" "]},{"start":{"row":197,"column":0},"end":{"row":197,"column":1},"action":"remove","lines":[" "]},{"start":{"row":196,"column":4},"end":{"row":197,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":201,"column":2},"end":{"row":201,"column":3},"action":"remove","lines":[" "],"id":31},{"start":{"row":201,"column":1},"end":{"row":201,"column":2},"action":"remove","lines":[" "]},{"start":{"row":201,"column":0},"end":{"row":201,"column":1},"action":"remove","lines":[" "]},{"start":{"row":200,"column":2},"end":{"row":201,"column":0},"action":"remove","lines":["",""]},{"start":{"row":200,"column":1},"end":{"row":200,"column":2},"action":"remove","lines":[" "]},{"start":{"row":200,"column":0},"end":{"row":200,"column":1},"action":"remove","lines":[" "]},{"start":{"row":199,"column":3},"end":{"row":200,"column":0},"action":"remove","lines":["",""]},{"start":{"row":199,"column":2},"end":{"row":199,"column":3},"action":"remove","lines":[" "]},{"start":{"row":199,"column":1},"end":{"row":199,"column":2},"action":"remove","lines":[" "]},{"start":{"row":199,"column":0},"end":{"row":199,"column":1},"action":"remove","lines":[" "]},{"start":{"row":198,"column":4},"end":{"row":199,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":198,"column":0},"end":{"row":198,"column":4},"action":"remove","lines":["    "],"id":32},{"start":{"row":197,"column":44},"end":{"row":198,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":231,"column":5},"end":{"row":232,"column":0},"action":"insert","lines":["",""],"id":33},{"start":{"row":232,"column":0},"end":{"row":232,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":232,"column":4},"end":{"row":232,"column":16},"action":"insert","lines":[" fclose(fp);"],"id":34}],[{"start":{"row":195,"column":12},"end":{"row":195,"column":16},"action":"remove","lines":["(-1)"],"id":35}],[{"start":{"row":195,"column":12},"end":{"row":195,"column":13},"action":"insert","lines":[" "],"id":36},{"start":{"row":195,"column":13},"end":{"row":195,"column":14},"action":"insert","lines":["F"]},{"start":{"row":195,"column":14},"end":{"row":195,"column":15},"action":"insert","lines":["a"]},{"start":{"row":195,"column":15},"end":{"row":195,"column":16},"action":"insert","lines":["l"]}],[{"start":{"row":195,"column":15},"end":{"row":195,"column":16},"action":"remove","lines":["l"],"id":37},{"start":{"row":195,"column":14},"end":{"row":195,"column":15},"action":"remove","lines":["a"]},{"start":{"row":195,"column":13},"end":{"row":195,"column":14},"action":"remove","lines":["F"]}],[{"start":{"row":195,"column":13},"end":{"row":195,"column":14},"action":"insert","lines":["A"],"id":38}],[{"start":{"row":195,"column":13},"end":{"row":195,"column":14},"action":"remove","lines":["A"],"id":39}],[{"start":{"row":195,"column":13},"end":{"row":195,"column":14},"action":"insert","lines":["F"],"id":40},{"start":{"row":195,"column":14},"end":{"row":195,"column":15},"action":"insert","lines":["A"]}],[{"start":{"row":195,"column":13},"end":{"row":195,"column":15},"action":"remove","lines":["FA"],"id":41},{"start":{"row":195,"column":13},"end":{"row":195,"column":18},"action":"insert","lines":["FALSE"]}],[{"start":{"row":235,"column":15},"end":{"row":235,"column":19},"action":"remove","lines":["flag"],"id":42},{"start":{"row":235,"column":15},"end":{"row":235,"column":16},"action":"insert","lines":["F"]},{"start":{"row":235,"column":16},"end":{"row":235,"column":17},"action":"insert","lines":["A"]}],[{"start":{"row":235,"column":15},"end":{"row":235,"column":17},"action":"remove","lines":["FA"],"id":43},{"start":{"row":235,"column":15},"end":{"row":235,"column":20},"action":"insert","lines":["FALSE"]}],[{"start":{"row":232,"column":4},"end":{"row":232,"column":5},"action":"remove","lines":[" "],"id":44}],[{"start":{"row":232,"column":4},"end":{"row":232,"column":15},"action":"remove","lines":["fclose(fp);"],"id":45}],[{"start":{"row":234,"column":21},"end":{"row":235,"column":0},"action":"insert","lines":["",""],"id":46},{"start":{"row":235,"column":0},"end":{"row":235,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":235,"column":8},"end":{"row":235,"column":19},"action":"insert","lines":["fclose(fp);"],"id":47}],[{"start":{"row":199,"column":2},"end":{"row":204,"column":10},"action":"remove","lines":["  boolean flag = TRUE;","    size_t i, j;","    size_t iterate;","    static size_t z = 0;","    static int it = 0;","    j = 0;"],"id":48},{"start":{"row":199,"column":1},"end":{"row":199,"column":2},"action":"remove","lines":[" "]},{"start":{"row":199,"column":0},"end":{"row":199,"column":1},"action":"remove","lines":[" "]},{"start":{"row":198,"column":47},"end":{"row":199,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":190,"column":13},"end":{"row":191,"column":0},"action":"insert","lines":["",""],"id":49},{"start":{"row":191,"column":0},"end":{"row":191,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":191,"column":4},"end":{"row":196,"column":10},"action":"insert","lines":["  boolean flag = TRUE;","    size_t i, j;","    size_t iterate;","    static size_t z = 0;","    static int it = 0;","    j = 0;"],"id":50}],[{"start":{"row":191,"column":5},"end":{"row":191,"column":26},"action":"remove","lines":[" boolean flag = TRUE;"],"id":51},{"start":{"row":191,"column":4},"end":{"row":191,"column":5},"action":"remove","lines":[" "]}],[{"start":{"row":191,"column":4},"end":{"row":191,"column":74},"action":"insert","lines":["char* filename=\"/Users/abodimsarwi/CLionProjects/untitled2/input.txt\";"],"id":53}],[{"start":{"row":198,"column":14},"end":{"row":198,"column":25},"action":"remove","lines":["\"input.txt\""],"id":54},{"start":{"row":198,"column":14},"end":{"row":198,"column":15},"action":"insert","lines":["f"]},{"start":{"row":198,"column":15},"end":{"row":198,"column":16},"action":"insert","lines":["i"]},{"start":{"row":198,"column":16},"end":{"row":198,"column":17},"action":"insert","lines":["l"]},{"start":{"row":198,"column":17},"end":{"row":198,"column":18},"action":"insert","lines":["e"]}],[{"start":{"row":198,"column":14},"end":{"row":198,"column":18},"action":"remove","lines":["file"],"id":55},{"start":{"row":198,"column":14},"end":{"row":198,"column":23},"action":"insert","lines":["file_name"]}],[{"start":{"row":198,"column":22},"end":{"row":198,"column":23},"action":"remove","lines":["e"],"id":56},{"start":{"row":198,"column":21},"end":{"row":198,"column":22},"action":"remove","lines":["m"]},{"start":{"row":198,"column":20},"end":{"row":198,"column":21},"action":"remove","lines":["a"]},{"start":{"row":198,"column":19},"end":{"row":198,"column":20},"action":"remove","lines":["n"]},{"start":{"row":198,"column":18},"end":{"row":198,"column":19},"action":"remove","lines":["_"]}],[{"start":{"row":198,"column":18},"end":{"row":198,"column":19},"action":"insert","lines":["n"],"id":57},{"start":{"row":198,"column":19},"end":{"row":198,"column":20},"action":"insert","lines":["a"]}],[{"start":{"row":198,"column":14},"end":{"row":198,"column":20},"action":"remove","lines":["filena"],"id":58},{"start":{"row":198,"column":14},"end":{"row":198,"column":22},"action":"insert","lines":["filename"]}],[{"start":{"row":191,"column":20},"end":{"row":191,"column":72},"action":"remove","lines":["/Users/abodimsarwi/CLionProjects/untitled2/input.txt"],"id":59},{"start":{"row":191,"column":20},"end":{"row":191,"column":30},"action":"insert","lines":["/input.txt"]}],[{"start":{"row":191,"column":20},"end":{"row":191,"column":30},"action":"remove","lines":["/input.txt"],"id":60},{"start":{"row":191,"column":20},"end":{"row":191,"column":30},"action":"insert","lines":["/input.txt"]}],[{"start":{"row":191,"column":20},"end":{"row":191,"column":44},"action":"insert","lines":["/home/ubuntu/environment"],"id":61}],[{"start":{"row":203,"column":3},"end":{"row":203,"column":5},"action":"remove","lines":["if"],"id":62},{"start":{"row":203,"column":3},"end":{"row":203,"column":4},"action":"insert","lines":["w"]},{"start":{"row":203,"column":4},"end":{"row":203,"column":5},"action":"insert","lines":["h"]},{"start":{"row":203,"column":5},"end":{"row":203,"column":6},"action":"insert","lines":["i"]},{"start":{"row":203,"column":6},"end":{"row":203,"column":7},"action":"insert","lines":["l"]},{"start":{"row":203,"column":7},"end":{"row":203,"column":8},"action":"insert","lines":["e"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":226,"column":20},"end":{"row":226,"column":20},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1579180080238,"hash":"405981c8fe0656cbe942b0d0dd1b2bfdab81013e"}